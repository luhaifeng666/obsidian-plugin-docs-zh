import{_ as s,o as a,c as n,V as e}from"./chunks/framework.5378c159.js";const y=JSON.parse('{"title":"移动设备","description":"","frontmatter":{"title":"移动设备"},"headers":[],"relativePath":"zh2.0/testing/mobile-devices.md","filePath":"zh2.0/testing/mobile-devices.md","lastUpdated":1685932550000}'),l={name:"zh2.0/testing/mobile-devices.md"},o=e(`<h1 id="移动端开发" tabindex="-1">移动端开发 <a class="header-anchor" href="#移动端开发" aria-label="Permalink to &quot;移动端开发&quot;">​</a></h1><p>学习如何开发移动设备上的插件。</p><h2 id="在桌面模拟移动设备" tabindex="-1">在桌面模拟移动设备 <a class="header-anchor" href="#在桌面模拟移动设备" aria-label="Permalink to &quot;在桌面模拟移动设备&quot;">​</a></h2><p>您可以直接通过开发者工具模拟 Obsidian 在移动设备上运行。</p><ol><li>打开 <strong>开发者工具</strong>。</li><li>选择 <strong>Console</strong> 标签。</li><li>输入以下内容并按 <code>Enter</code> 键。</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emulateMobile</span><span style="color:#A6ACCD;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>想要禁用移动设备模拟，输入以下内容并按 <code>Enter</code> 键：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emulateMobile</span><span style="color:#A6ACCD;">(</span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>要想来回切换移动设备模拟，您可以使用 <code>this.app.isMobile</code> 标签：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emulateMobile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">!this.</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isMobile)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h2 id="平台的特定功能" tabindex="-1">平台的特定功能 <a class="header-anchor" href="#平台的特定功能" aria-label="Permalink to &quot;平台的特定功能&quot;">​</a></h2><p>使用 <code>Platform</code> 以探测当前您的插件所运行的平台：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Platform</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">obsidian</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (Platform</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isIosApp) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (Platform</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isAndroidApp) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="在移动设备上禁用您的插件" tabindex="-1">在移动设备上禁用您的插件 <a class="header-anchor" href="#在移动设备上禁用您的插件" aria-label="Permalink to &quot;在移动设备上禁用您的插件&quot;">​</a></h2><p>如果您的插件需要使用 Node.js 或者 Electron API，您可以阻止用户在移动设备上安装您的插件。</p><p>要想仅支持桌面端 app，在 <a href="./../reference/manifest.html">manifest.json</a> 中将 <code>isDesktopOnly</code> 的值设置为 <code>true</code>。</p><h2 id="故障排除" tabindex="-1">故障排除 <a class="header-anchor" href="#故障排除" aria-label="Permalink to &quot;故障排除&quot;">​</a></h2><p>这部分罗列了在开发移动端插件时常见的一些问题。</p><h3 id="node-以及-electron-apis" tabindex="-1">Node 以及 Electron APIs <a class="header-anchor" href="#node-以及-electron-apis" aria-label="Permalink to &quot;Node 以及 Electron APIs&quot;">​</a></h3><p>Node.js 以及 Electron API 在移动端设备上无法获取。任何对它们的调用都会导致您的插件崩溃。</p><h3 id="正则表达式中的后行断言-lookbehind" tabindex="-1">正则表达式中的后行断言(lookbehind) <a class="header-anchor" href="#正则表达式中的后行断言-lookbehind" aria-label="Permalink to &quot;正则表达式中的后行断言(lookbehind)&quot;">​</a></h3><p>目前在 iOS 中不支持正则表达式中的后行断言(lookbehind)。要想兼容 iOS 用户，请查阅 <a href="#平台的特定功能">平台的特定功能</a>。</p><p>有关最新支持状态，请查阅 <a href="https://caniuse.com/js-regexp-lookbehind" target="_blank" rel="noreferrer">Can I Use</a>。查看 &quot;Safari on iOS&quot; 部分。</p>`,22),p=[o];function t(r,i,c,d,D,h){return a(),n("div",null,p)}const F=s(l,[["render",t]]);export{y as __pageData,F as default};
